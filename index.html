<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=480">

  <title>Gamesummary - test</title>
  
  <link type="text/css" rel="stylesheet" href="http://static.cdn.tv2.no/s/stage_stylesheets/tv2bootstrap.css?v=1.1.30">
  <link rel="stylesheet" href="http://contentbox.tv2.no/sportsdata-bundle/assets/css/sportsdata.css">
  <link rel="stylesheet" href="css/tv2-gamesummary.css"/>

</head>
<body>
		<section class="section">




<!-- start module markup --> 

		 	<section class="sportsdata-widget module-gamesummary">

			 	<div style="padding: 15px;">
			 		<!-- Høydepunktsknapp blir erstattet når design foreligger -->
			 		<button style="float: right;" type="button">Vis høydepunkter</button>
				</div>

		 		<!-- toggle class compact -->
			 	<ul class="">
			 		<li>
			 			<!-- Valid datetime value for time tag for future support in browsers -->
			 			<time class="t23 font-condensed" datetime="2014-12-23 18:01">1.</time>
			 			<div class="event plain">
			 				Start: Kampen er i gang
			 			</div>
			 		</li>

			 		<li>
			 			<time class="t23 font-condensed" datetime="2014-12-23 18:23">23.</time>
			 			<div class="event">
			 				<img class="eventimg" src="http://www.altomfotball.no/jsport/multimedia/spiller/120x155/254954.jpg" alt="Spillernavn">
			 				<strong class="t23 font-extrabold">
			 					<img src="img/icon-red_card.svg" alt="Rødt kort" title="Rødt kort">
			 					Nicolaus Copernicus (Astronomers)
			 				</strong>
			 				<p>The earth isn't the center of the universe.</p>
			 			</div>
			 		</li>

			 		<li class="highlight video">
			 			<time class="t23 font-condensed" datetime="2014-12-23 18:43">43.</time>
			 			<div class="event">

							<!-- video contentbox -->
				 			<figure class="video article-figure">
					        	<div id="AJzvLpdETV2_player_809704" class="tv2player media">
						            <img src="http://www.cdn.tv2.no/tvid/VMan-P809/VMan-P809704">
						            <p class="media-label">
						           		<a href="#" style="font-size: 15.93191489361702px; height: 42.48510638297872px; padding: 5.31063829787234px 10.178723404255319px; line-height: 17.702127659574465px;">01:50</a>
						            </p>
						        </div>
					    	</figure>
					    	<!-- /video contentbox -->

			 				<h3 class="font-extrabold t40">
					    		<img src="img/icon-goal.svg" alt="Mål" title="Mål">
					    		<span class="videotoggle">Mål: 1-0</span>
					    	</h3>
			 				<strong class="t23 font-extrabold">Galileo Galilei (Astronomers)</strong>
			 				<p>We haz science!</p>
			 				<p>(<strong>Assist:</strong> The pope)</p>


			 				<div class="fb-share">
			 				<!-- mock fb button / sjekk fbdevelopers for instruksjoner -->
								<div data-href="https://developers.facebook.com/docs/plugins/" data-width="100%" data-type="button_count" class="fb-share-button fb_iframe_widget" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=113869198637480&amp;href=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;locale=nb_NO&amp;sdk=joey&amp;type=button_count"><span style="vertical-align: bottom; width: 81px; height: 20px;"><iframe name="f1a6f4509c" width="1000px" height="1000px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:share_button Facebook Social Plugin" src="https://www.facebook.com/plugins/share_button.php?app_id=113869198637480&amp;channel=https%3A%2F%2Fs-static.ak.facebook.com%2Fconnect%2Fxd_arbiter%2FdgdTycPTSRj.js%3Fversion%3D40%23cb%3Df325cf234c%26domain%3Ddevelopers.facebook.com%26origin%3Dhttps%253A%252F%252Fdevelopers.facebook.com%252Ff2273b4b5c%26relation%3Dparent.parent&amp;href=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;locale=nb_NO&amp;sdk=joey&amp;type=button_count" class="" style="border: none; visibility: visible; width: 81px; height: 20px;"></iframe></span></div>

			 			<!-- /mock fb button	-->
						</div>

			 			</div>
			 		</li>

					<li>
			 			<time class="t23 font-condensed" datetime="2014-12-23 18:45">45.</time>
			 			<div class="event plain">
			 				Pause: Vi venter på andre omgang
			 			</div>
			 		</li>

			 		<li>
			 			<time class="t23 font-condensed" datetime="2014-12-23 19:03">63.</time>
			 			<div class="multiple-events">
				 			<div class="c4">
						    	
					 			<div class="event">
					 				<img class="eventimg" src="http://www.altomfotball.no/jsport/multimedia/spiller/120x155/230146.jpg" alt="Spillernavn">

					 				<strong class="t23 font-extrabold">
					 					<img src="img/icon-player_out.svg" alt="Spiller ut" title="Spiller ut">
						 				Captain Robert Scott (Explorers)
						 			</strong>
					 				
					 			</div>
				 			</div>
				 			<div class="c4">
					 		
					 			<div class="event">

					 				<img class="eventimg" src="http://www.altomfotball.no/jsport/multimedia/spiller/120x155/145423.jpg" alt="Spillernavn">

					 				<strong class="t23 font-extrabold">
					 					<img src="img/icon-player_in.svg" alt="Spiller inn" title="Spiller inn">
					 					Marco Polo (Explorers)
					 				</strong>
					 			</div>
				 			</div>
			 			</div>
			 		</li>

			 		<li class="highlight"> <!-- highlighted event -->
			 			<time class="t23 font-condensed" datetime="2014-12-23 19:07">67.</time>
			 			<div class="event">

							<img class="eventimg" src="http://www.altomfotball.no/jsport/multimedia/person/m/martin-skrtel_106204_1249302995619.jpg" alt="Spillernavn">

			 				<h3 class="font-extrabold t40">
					    		<img src="img/icon-goal.svg" alt="Mål" title="Mål">
					    		Mål: 1-1
					    	</h3>
			 				<strong class="t23 font-extrabold">Fritjof Nansen (Explorers)</strong>
			 				<div class="team"></div>
			 				<p>Østkysten eller døden!</p>
			 				<p>(<strong>Assist:</strong> A. Nordenskiold)</p>
			 			</div>
			 		</li>
			 		<!-- insert video class if event has video -->
			 		<li class="video">
			 			<time class="t23 font-condensed" datetime="2014-12-23 19:11">71.</time>
			 			<div class="event">
			 				<!-- video contentbox -->
				 			<figure class="video article-figure">
					        	<div id="AJzvLpdETV2_player_809704" class="tv2player media">
						            <img src="http://www.cdn.tv2.no/tvid/VMan-P809/VMan-P809704">
						            <p class="media-label">
						           		<a href="#" style="font-size: 15.93191489361702px; height: 42.48510638297872px; padding: 5.31063829787234px 10.178723404255319px; line-height: 17.702127659574465px;">01:50</a>
						            </p>
						        </div>
					    	</figure>
					    	<!-- /video contentbox -->
			 				<strong class="t23 font-extrabold">
			 					<img src="img/icon-yellow_card.svg" alt="Gult kort" title="Gult kort">
			 					<!-- insert span with videotoggle if video is available -->
			 					<span class="videotoggle">Edwin Powell Hubble (Astronomers)</span>
			 				</strong>
			 				<p>The universe seems to be expanding.</p>
			 			</div>
			 		</li>

			 		<li>
			 			<time class="t23 font-condensed" datetime="2014-12-23 19:20">80.</time>
			 			<div class="event">
			 				<strong class="t23 font-extrabold">
			 					<img src="img/icon-yellow_card_double.svg" alt="To gule kort" title="To gule kort">
			 					Francis Drake (Explorers)
			 				</strong>
			 			</div>
			 		</li>

			 	</ul>

		  	</section>

<!-- end module markup -->


		</section>



	<!-- //testing purposes -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script type="text/javascript">
		(function($){

			function resizedw(){
				//breakpoints for module
				var module = $('.module-gamesummary'),
					w = module.width(),
					options = {
						tiny: 390,
						narrow: 600,
						medium: 800,
						normal: 930
					};

				//set desired layout class
				if (w < options.tiny) {
					toggleLayoutClasses(module, 'tiny');
				}
				else if(w > options.tiny && w < options.narrow){
					toggleLayoutClasses(module, 'narrow');
				}
				else if(w > options.narrow && w < options.medium){
					toggleLayoutClasses(module, 'medium');
				}
				else if(w > options.medium){
					toggleLayoutClasses(module, 'normal');
				}
				else {
					console.log(w, ' is out of scope for resizedw()');
					//error handle or fallback to magic tricks
				}
			}


			/* simple function for toggling layout classes for jquery elem */
			function toggleLayoutClasses(elem, cl){
				var classes = ['tiny', 'narrow', 'medium', 'normal'];
				for (var i = 0; i < classes.length; i++){
					(classes[i]!= cl && elem.hasClass(classes[i]) ? elem.removeClass(classes[i]) : elem.addClass(cl));
				}
			}


			//resize event throttler
			var resizeThrottle;
			window.onresize = function(){
			  clearTimeout(resizeThrottle);
			  resizeThrottle = setTimeout(resizedw, 200);
			};


			//init layout class
			resizedw();


			//TODO: move to backbone events
			//toggle compact class to show highlights
			$('body').on('click', '.module-gamesummary button', function(){
				$(this).toggleClass('active').parents('.module-gamesummary').find('ul').toggleClass('compact');
			})
			//toggle show-video class in compact view
			.on('click', '.module-gamesummary .compact li.video h3, .module-gamesummary .compact li.video strong', function(){
				$(this).parents('li.video').toggleClass('show-video');
			});


		})(jQuery);
	</script
</body>
</html>
